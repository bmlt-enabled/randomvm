import{S as W,i as F,s as Q,e as h,k as $,t as z,c as _,n as A,a as k,g as D,d as i,b as g,f as S,H as a,h as G,J as X,K as Z,I as O,A as x,L as ee,M as T,j as te,N as se,m as ae,O as ne,o as le,x as re,u as ie,v as oe}from"../chunks/vendor-40fbc9ca.js";function Y(R){let n,o,f,e,r,d=R[0].name+"",s,c,t,l,v=R[0].start+"",b,p,I,M,j=R[0].link+"",y,w;return{c(){n=h("br"),o=$(),f=h("div"),e=h("p"),r=h("b"),s=z(d),c=$(),t=h("br"),l=$(),b=z(v),p=h("br"),I=$(),M=h("a"),y=z(j),this.h()},l(m){n=_(m,"BR",{}),o=A(m),f=_(m,"DIV",{class:!0});var E=k(f);e=_(E,"P",{class:!0});var u=k(e);r=_(u,"B",{});var V=k(r);s=D(V,d),V.forEach(i),c=A(u),t=_(u,"BR",{}),l=A(u),b=D(u,v),p=_(u,"BR",{}),I=A(u),M=_(u,"A",{href:!0});var B=k(M);y=D(B,j),B.forEach(i),u.forEach(i),E.forEach(i),this.h()},h(){g(M,"href",w=R[0].link),g(e,"class","title is-6"),g(f,"class","box is-shadowless has-text-centered m-0")},m(m,E){S(m,n,E),S(m,o,E),S(m,f,E),a(f,e),a(e,r),a(r,s),a(e,c),a(e,t),a(e,l),a(e,b),a(e,p),a(e,I),a(e,M),a(M,y)},p(m,E){E&1&&d!==(d=m[0].name+"")&&G(s,d),E&1&&v!==(v=m[0].start+"")&&G(b,v),E&1&&j!==(j=m[0].link+"")&&G(y,j),E&1&&w!==(w=m[0].link)&&g(M,"href",w)},d(m){m&&i(n),m&&i(o),m&&i(f)}}}function ce(R){let n,o,f,e,r,d,s=R[0]&&Y(R);return{c(){n=h("main"),o=h("button"),f=z("Get A Random Meeting"),e=$(),s&&s.c(),this.h()},l(c){n=_(c,"MAIN",{});var t=k(n);o=_(t,"BUTTON",{class:!0});var l=k(o);f=D(l,"Get A Random Meeting"),l.forEach(i),e=A(t),s&&s.l(t),t.forEach(i),this.h()},h(){g(o,"class","button is-fullwidth svelte-11hmyrt"),o.disabled=R[1],X(o,"is-loading",R[1])},m(c,t){S(c,n,t),a(n,o),a(o,f),a(n,e),s&&s.m(n,null),r||(d=Z(o,"click",R[2]),r=!0)},p(c,[t]){t&2&&(o.disabled=c[1]),t&2&&X(o,"is-loading",c[1]),c[0]?s?s.p(c,t):(s=Y(c),s.c(),s.m(n,null)):s&&(s.d(1),s=null)},i:O,o:O,d(c){c&&i(n),s&&s.d(),r=!1,d()}}}function ue(R,n,o){let f=null,e=null,r=[],d=!1;function s(t,l,v){let b=parseInt(t)===1?7:parseInt(t)-1,p;return v||(v="UTC"),p=T().tz(v,!0).set({hour:l.split(":")[0],minute:l.split(":")[1],second:0}).isoWeekday(b),p=p.clone().tz(T.tz.guess()),T.tz(T.tz.guess())>p&&p.add(1,"weeks"),p}x(()=>{o(1,d=!0),ee("https://bmlt.virtual-na.org/main_server/client_interface/jsonp/?switcher=GetSearchResults&data_field_key=weekday_tinyint,start_time,time_zone,meeting_name,comments").then(t=>t.json()).then(t=>{if(e=[],t)for(const l of t){const v=s(l.weekday_tinyint,l.start_time,l.time_zone),b=T.tz(T.tz.guess());v.diff(b,"minutes")>=0&&v.diff(b,"minutes")<=30&&e.push({name:l.meeting_name,start:v.toString(),link:l.comments})}}).then(()=>c()).then(()=>o(1,d=!1)).catch(t=>console.log("parsing failed",t))});function c(){r.length==e.length&&(r.length>1?r=[r.pop()]:r=[]);const t=e.filter(l=>!r.includes(l));o(0,f=t[Math.floor(Math.random()*t.length)]),r.push(f)}return[f,d,c]}class de extends W{constructor(n){super();F(this,n,ue,ce,Q,{})}}function fe(R){let n,o,f,e,r,d,s,c,t,l,v,b,p,I,M,j,y,w,m,E;return l=new de({}),{c(){n=h("script"),f=$(),e=h("section"),r=h("div"),d=h("div"),s=h("h4"),c=z("Random Virtual Meeting"),t=$(),te(l.$$.fragment),v=$(),b=h("div"),p=h("div"),I=h("p"),M=h("a"),j=z("Ideas?"),y=z(`
        \u2022 Meetings sourced from
        `),w=h("a"),m=z("virtual-na.org"),this.h()},l(u){const V=se('[data-svelte="svelte-gzcn9j"]',document.head);n=_(V,"SCRIPT",{src:!0,"data-auto-a11y":!0});var B=k(n);B.forEach(i),V.forEach(i),f=A(u),e=_(u,"SECTION",{class:!0});var C=k(e);r=_(C,"DIV",{class:!0});var P=k(r);d=_(P,"DIV",{class:!0});var N=k(d);s=_(N,"H4",{class:!0});var H=k(s);c=D(H,"Random Virtual Meeting"),H.forEach(i),t=A(N),ae(l.$$.fragment,N),N.forEach(i),P.forEach(i),v=A(C),b=_(C,"DIV",{class:!0});var J=k(b);p=_(J,"DIV",{class:!0});var L=k(p);I=_(L,"P",{});var q=k(I);M=_(q,"A",{href:!0,target:!0});var U=k(M);j=D(U,"Ideas?"),U.forEach(i),y=D(q,`
        \u2022 Meetings sourced from
        `),w=_(q,"A",{href:!0,target:!0});var K=k(w);m=D(K,"virtual-na.org"),K.forEach(i),q.forEach(i),L.forEach(i),J.forEach(i),C.forEach(i),this.h()},h(){document.title="Random Virtual Meeting",ne(n.src,o="https://use.fontawesome.com/releases/v5.15.4/js/all.js")||g(n,"src",o),g(n,"data-auto-a11y","true"),g(s,"class","title is-4 has-text-centered"),g(d,"class","card p-5"),g(r,"class","container"),g(M,"href","https://github.com/bmlt-enabled/randomvm/issues"),g(M,"target","_blank"),g(w,"href","https://virtual-na.org/meetings"),g(w,"target","_blank"),g(p,"class","card p-5 mt-5 has-text-centered"),g(b,"class","container"),g(e,"class","section p-5")},m(u,V){a(document.head,n),S(u,f,V),S(u,e,V),a(e,r),a(r,d),a(d,s),a(s,c),a(d,t),le(l,d,null),a(e,v),a(e,b),a(b,p),a(p,I),a(I,M),a(M,j),a(I,y),a(I,w),a(w,m),E=!0},p:O,i(u){E||(re(l.$$.fragment,u),E=!0)},o(u){ie(l.$$.fragment,u),E=!1},d(u){i(n),u&&i(f),u&&i(e),oe(l)}}}class he extends W{constructor(n){super();F(this,n,null,fe,Q,{})}}export{he as default};
